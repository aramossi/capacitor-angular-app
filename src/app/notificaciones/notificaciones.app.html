<div class="notificaciones-background">
    <!-- MenÃº de botones modernos compactos -->
    <nav class="top-bar-menu" [class.native-platform]="isNativePlatform">
        <div class="dj-perfil-menu">
            <button class="modern-back-btn" (click)="irHome()" title="Principal">
                <span class="menu-icon">ğŸ </span>
                <span class="menu-text">Principal</span>
            </button>
            <button class="modern-back-btn" (click)="irPerfil()" title="Mi perfil">
                <span class="menu-icon">ğŸ‘¤</span>
                <span class="menu-text">Mi perfil</span>
            </button>
            <button class="modern-back-btn active" title="Notificaciones">
                <span class="menu-icon">ğŸ””</span>
                <span class="menu-text">Notificaciones</span>
            </button>
            <button class="modern-back-btn" (click)="cerrarSesion()" title="Cerrar sesiÃ³n">
                <span class="menu-icon">â»</span>
                <span class="menu-text">Cerrar sesiÃ³n</span>
            </button>
        </div>
    </nav>

    <!-- Icono de carga -->
    <div *ngIf="cargando" class="loading-container">
        <span class="loading-icon">â³</span>
        <div>Cargando notificaciones...</div>
    </div>

    <!-- Contenido principal -->
    <div *ngIf="!cargando" class="notificaciones-container">
        <header class="notificaciones-header">
            <h2>Notificaciones y Eventos</h2>
            <div class="panel-tabs">
                <button class="tab-btn" [class.active]="vistaActual === 'solicitudes'"
                    (click)="cambiarVista('solicitudes')">
                    ğŸ“¬ Solicitudes
                </button>
                <button class="tab-btn" [class.active]="vistaActual === 'eventos'" (click)="cambiarVista('eventos')">
                    ğŸ“… Eventos
                </button>
            </div>
        </header>

        <!-- SecciÃ³n de Solicitudes -->
        <section class="solicitudes-section" *ngIf="vistaActual === 'solicitudes'">
            <h3 class="section-title">ğŸ“¬ Solicitudes de Clientes</h3>

            <div *ngIf="solicitudes.length === 0" class="no-items">
                <p>No tienes solicitudes pendientes</p>
            </div>

            <div class="solicitudes-list">
                <div class="solicitud-card" *ngFor="let solicitud of solicitudes">
                    <div class="solicitud-header">
                        <div class="solicitud-avatar">ğŸ‘¤</div>
                        <div class="solicitud-info">
                            <h4 class="solicitud-nombre">{{ solicitud.nombreCliente }}</h4>
                            <p class="solicitud-fecha" *ngIf="solicitud.fecha">{{ formatearFecha(solicitud.fecha) }}</p>
                        </div>
                    </div>

                    <div class="solicitud-detalles">
                        <div class="detalle-row">
                            <span class="detalle-icono">ğŸ‰</span>
                            <span class="detalle-label">Tipo de evento:</span>
                        </div>
                        <div class="detalle-valor">{{ solicitud.tipoEvento }}</div>

                        <div class="detalle-row">
                            <span class="detalle-icono">ğŸ“…</span>
                            <span class="detalle-label">Fecha del evento:</span>
                        </div>
                        <div class="detalle-valor">{{ solicitud.fechaEvento }}</div>

                        <div class="detalle-row">
                            <span class="detalle-icono">ğŸ“±</span>
                            <span class="detalle-label">TelÃ©fono:</span>
                        </div>
                        <div class="detalle-valor">{{ solicitud.telefono }}</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SecciÃ³n de Eventos -->
        <section class="eventos-section" *ngIf="vistaActual === 'eventos'">
            <h3 class="section-title">ğŸ“… Mis Eventos Agendados</h3>

            <div *ngIf="eventos.length === 0" class="no-items">
                <p>No tienes eventos agendados</p>
            </div>

            <div class="eventos-list">
                <div class="evento-card" *ngFor="let evento of eventos; let i = index">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“…</span>
                        <div class="card-info">
                            <strong>{{ evento.persona }}</strong>
                            <span class="card-date">{{ evento.fecha }}</span>
                        </div>
                    </div>

                    <div class="card-details">
                        <div class="detail-item" *ngIf="evento.direccion">
                            <span class="detail-label">ğŸ“ DirecciÃ³n:</span>
                            <span class="detail-value">{{ evento.direccion }}</span>
                        </div>
                        <div class="detail-item" *ngIf="evento.descripcion">
                            <span class="detail-label">ğŸ“ DescripciÃ³n:</span>
                            <span class="detail-value">{{ evento.descripcion }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ğŸ“± TelÃ©fono:</span>
                            <span class="detail-value">{{ evento.telefono }}</span>
                        </div>
                    </div>

                    <div class="card-actions">
                        <button class="btn-action btn-delete" (click)="eliminarEvento(i)" title="Eliminar evento">
                            ğŸ—‘ï¸ Eliminar
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>